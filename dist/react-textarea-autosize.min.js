!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],e):t.TextareaAutosize=e(t.React,t.PropTypes)}(this,function(t,e){"use strict";function n(t,e,n,o,i,r,a){n.fill=function(t){Object.keys(t).forEach(function(e){n.style[e]=t[e]}),Object.keys(o).forEach(function(t){n.style.setProperty(t,o[t],"important")})},n.value=t.value||t.placeholder||"x";var h=function(t){if("0"===t)return 0;var e=t.match(/^(\d+)px$/);if(e)return+e[1];console.log('Warning: maxWidth and minWidth should be equal to "0" or match "/^(d+)px$"/')};i=h(i),r=h(r);var s=function(){var t=function(t){var o=Object.assign(e,{width:t+"px"});return n.fill(o),n.scrollHeight};if(t(i)===t(r))return i;return function e(n,o,i,r){if(a>o-n)return r+10;var h=t(o);return h>i?e(o,o+(o-n),i,o):e(n,n+(o-n)/2,h,o)}(i,r,1/0)}();return e.width=s+"px",s}function o(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"0",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"1920px",p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:8;null===h.parentNode&&document.body.appendChild(h);var c=i(t,e,o);if(null===c)return null;var f=c.paddingSize,m=c.borderSize,g=c.boxSizing,v=c.sizingStyle,w=void 0;u&&(w=n(t,v,h,s,d,l,p)),Object.keys(v).forEach(function(t){h.style[t]=v[t]}),Object.keys(s).forEach(function(t){h.style.setProperty(t,s[t],"important")}),h.value=t.value||t.placeholder||"x";var y=-1/0,x=1/0,b=h.scrollHeight;"border-box"===g?b+=m:"content-box"===g&&(b-=f),h.value="x";var _=h.scrollHeight-f;null===r&&null===a||(null!==r&&(y=_*r,"border-box"===g&&(y=y+f+m),b=Math.max(y,b)),null!==a&&(x=_*a,"border-box"===g&&(x=x+f+m),b=Math.min(x,b)));var z=Math.floor(b/_);return u?{height:b,minHeight:y,maxHeight:x,rowCount:z,width:w,minWidth:d,maxWidth:l}:{height:b,minHeight:y,maxHeight:x,rowCount:z}}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&d[e])return d[e];var o=window.getComputedStyle(t);if(null===o)return null;var i=u.reduce(function(t,e){return t[e]=o.getPropertyValue(e),t},{}),r=i["box-sizing"];a&&"border-box"===r&&(i.width=parseFloat(i.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var h={sizingStyle:i,paddingSize:parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),borderSize:parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),boxSizing:r};return n&&(d[e]=h),h}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var r="undefined"!=typeof window&&"undefined"!=typeof document,a=!!r&&!!document.documentElement.currentStyle,h=r&&document.createElement("textarea"),s={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],d={},l=function(t){return delete d[t]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++t}}(),c=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},m=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},g=function(t,e){var n={};for(var o in t)0>e.indexOf(o)&&Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},v=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},w=function(){},y=r&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],x=y[0],b=y[1],_=function(e){function n(t){c(this,n);var i=v(this,e.call(this,t));return i._resizeLock=!1,i._onRootDOMNode=function(t){i._rootDOMNode=t,i.props.inputRef&&i.props.inputRef(t)},i._onChange=function(t){i._controlled||i._resizeComponent(),i.props.onChange(t)},i._resizeComponent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;if(void 0!==i._rootDOMNode){var e=o(i._rootDOMNode,i._uid,i.props.useCacheForDOMMeasurements,i.props.minRows,i.props.maxRows,i.props.autosizeWidth,i.props.minWidth,i.props.maxWidth,i.props.autosizeWidthPrecision);if(null!==e){var n=e.height,r=e.minHeight,a=e.maxHeight,h=e.rowCount,s=e.width,u=e.minWidth,d=e.maxWidth;i.rowCount=h,i.state.height===n&&i.state.minHeight===r&&i.state.maxHeight===a&&i.state.width===s&&i.state.minWidth===u&&i.state.maxWidth===d?t():i.setState({height:n,minHeight:r,maxHeight:a,width:s,minWidth:u,maxWidth:d},t)}else t()}else t()},i.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},i._uid=p(),i._controlled="string"==typeof t.value,i}return m(n,e),n.prototype.render=function(){var e=this.props,n=g(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef","autosizeWidth","minWidth","maxWidth"]);n.style=f({},n.style,{height:this.state.height,width:this.state.width});var o=Math.max(n.style.maxHeight||1/0,this.state.maxHeight);return this.state.height>o&&(n.style.overflow="hidden"),t.createElement("textarea",f({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.prototype.componentDidMount=function(){var t=this;this._resizeComponent(),this._resizeListener=function(){t._resizeLock||(t._resizeLock=!0,t._resizeComponent(function(){return t._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.prototype.componentWillReceiveProps=function(){var t=this;this._clearNextFrame(),this._onNextFrameActionId=x(function(){return t._resizeComponent()})},n.prototype.componentDidUpdate=function(t,e){this.state.height!==e.height&&this.props.onHeightChange(this.state.height,this)},n.prototype.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),l(this._uid)},n.prototype._clearNextFrame=function(){b(this._onNextFrameActionId)},n}(t.Component);return _.propTypes={value:e.string,onChange:e.func,onHeightChange:e.func,useCacheForDOMMeasurements:e.bool,minRows:e.number,maxRows:e.number,inputRef:e.func},_.defaultProps={onChange:w,onHeightChange:w,useCacheForDOMMeasurements:!1},_});
